head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2021.05.27.12.02.01;	author heiko;	state Exp;
branches;
next	;


desc
@Transformation of Dillinger export to HTTP server import.
@


1.1
log
@Initial revision
@
text
@#!/bin/bash

# $Id$
#
# $Log$

# Print short help message
if [ -z $2 ]
then
	echo "Usage: $0 <source> <target>"
	exit 2
fi

# Array of all headings
HEADINGS=('Preface' \
'1_The_way_of_the_program' \
'11_The_Lua_programming_language' \
'12_What_is_a_program')

# Keep original file
cp -ua $1 $2

# Remove line number from all anchor related phrases
for heading in "${HEADINGS[@@]}"
do
	sed -i -e "s/${heading}_[0-9]\+/${heading}/g" $2
	if [ $? -eq 0 ]
	then
		echo "[  OK  ] $heading"
	else
		echo "[FAILED] $heading"
		exit 2
	fi
done

exit 0
@
